mash_screen
===========

Purpose
-------

This component performes mash screen to find plasmids
contained in high throughout sequencing data, using as inputs read files
(FastQ files). Then, the resulting file can
be imported into `pATLAS <http://www.patlas.site/>`_.
This component searches for containment of a given sequence in read sequencing
data.
However, this process can be user for other purposes, by providing a different
database than the default that is intended for plasmid searches.

.. note::
    - pATLAs documentation can be found `here <https://tiagofilipe12.gitbooks.io/patlas/content/>`_.
    - MASH documentation can be found `here <https://mash.readthedocs.io/en/latest/>`_.


Input/Output type
------------------

- Input type: ``fastq``
- Output type: ``json``


Parameters
----------

- ``noWinner``: A variable that enables the use of -w option for mash screen.
  Default: false.

- ``pValue``: P-value cutoff for the distance estimation between two sequences to
  be included in the output. Default: 0.05.

- ``identity``: The percentage of identity between the reads input and the
  reference sequence. Default: 0.9.

- ``refFile``: "Specifies the reference file to be provided to mash. It can
  either be a fastq or a .msh reference sketch generated by mash.
  Default: '/ngstools/data/patlas.msh'. If the component ``mash_sketch_fastq``
  is executed before this component, this parameter will be ignored and instead
  the secondary link between the two processes will be used to feed this
  component with the reference sketch.


Published results
-----------------

- ``results/mashscreen/``: A `JSON` file that can be imported to `pATLAS <http://www.patlas.site/>`_
  with the results from mash screen.


Published reports
-----------------

None.


Default directives
------------------

- ``mashScreen``:
    - ``container``: flowcraft/mash-patlas
    - ``version``: 1.6.0-1
- ``mashOutputJson``:
    - ``container``: flowcraft/mash-patlas
    - ``version``: 1.6.0-1
